"use strict";(self.webpackChunkcontact_manager=self.webpackChunkcontact_manager||[]).push([[595],{595:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=n(165),s=n(861),c=n(982),i=n(885),o=n(496),l=n(184);function r(e){var t=e.onCheck,n=e.checkAll;return(0,l.jsx)("div",{className:"ListHeader",children:(0,l.jsxs)("div",{className:"ListHeader-row",children:[(0,l.jsx)("div",{className:"ListHeader-item",children:(0,l.jsxs)("label",{className:"checkbox",children:[(0,l.jsx)("input",{name:"checkAll",type:"checkbox",checked:n,onChange:t}),(0,l.jsx)("span",{})]})}),(0,l.jsx)("div",{className:"ListHeader-item row-item-2 row-item",children:"NAME"}),(0,l.jsx)("div",{className:"ListHeader-item row-item-3 row-item",children:"EMAIL"}),(0,l.jsx)("div",{className:"ListHeader-item row-item-4 row-item",children:"PHONE"}),(0,l.jsx)("div",{className:"ListHeader-item row-item-5 row-item",children:"PROFESSION"}),(0,l.jsx)("div",{className:"ListHeader-item row-item-6 row-item"})]})})}var d=n(693),u=n(806),m=n(632);function h(e){var t=e.id,n=e.contact,a=e.contacts,s=e.setContacts,c=e.setNewContact,i=e.cardViewState,o=e.inlineEditState,r=e.checkedIdArr,h=e.onPopupContactEdit,p=e.onInlineContactEdit,f=e.onCheck;return(0,l.jsxs)("div",{className:i?"ListItem-card":r.includes(t)?"ListItem-row itemRowInlineStyle":"ListItem-row",children:[(0,l.jsx)("div",{className:i?"ListItem-card-item":"ListItem-item",children:(0,l.jsxs)("label",{className:"checkbox",children:[(0,l.jsx)("input",{type:"checkbox",name:"checkItem",checked:r.includes(t),onChange:function(e){f(e,t)}}),(0,l.jsx)("span",{})]})}),(0,l.jsxs)("div",{className:i?"ListItem-card-item":"ListItem-item row-item-2 row-item",children:[n.avatar,n.firstName," ",n.lastName]}),(0,l.jsxs)("div",{className:i?"ListItem-card-item":"ListItem-item row-item-3 row-item",children:[i?(0,l.jsx)("p",{className:"ListItem-carView-subtitle",children:"Email"}):null,(0,l.jsx)("a",{href:"mailto:".concat(n.email),children:n.email})]}),(0,l.jsxs)("div",{className:i?"ListItem-card-item":"ListItem-item row-item-4 row-item",children:[i?(0,l.jsx)("p",{className:"ListItem-carView-subtitle",children:"Phone"}):null,(0,l.jsxs)("a",{href:"tel:".concat(n.phone),children:[n.phone," "]})]}),(0,l.jsxs)("div",{className:i?"ListItem-card-item":"ListItem-item row-item-5 row-item",children:[i?(0,l.jsx)("p",{className:"ListItem-carView-subtitle",children:"Profession"}):null,n.profession]}),(0,l.jsx)("div",{className:i?"ListItem-card-item":"ListItem-item row-item-6 row-item",children:(0,l.jsxs)("div",{className:"ListItem-icon-group",children:[(0,l.jsx)(u.G,{icon:m.iDc,onClick:function(){c({id:n.id,firstName:n.firstName,lastName:n.lastName,phone:n.phone,email:n.email,profession:n.profession}),o?i||p(n):h(n)}}),(0,l.jsx)(u.G,{icon:m.Kl4,onClick:function(){(0,d.bY)(n,a,s)}})]})})]})}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=n(791);function j(e){var t=e.title,n=e.button,a=e.contact,s=e.contacts,c=e.setContacts,o=e.setPopupContactStatus,r=(0,N.useState)(a),u=(0,i.Z)(r,2),m=u[0],h=u[1],p=(0,N.useState)(a),f=(0,i.Z)(p,2),j=f[0],C=f[1];return(0,l.jsx)("div",{className:"PopupContact-mask",onClick:function(e){"PopupContact-mask"===e.target.className&&o(null)},children:(0,l.jsxs)("form",{className:"PopupContact-container swal2-show",children:[(0,l.jsx)("h1",{className:"PopupContact-title",children:t}),(0,l.jsxs)("label",{className:"PopupContact-item",children:[(0,l.jsx)("h3",{children:"First Name"}),(0,l.jsx)("input",{className:"PopupContact-input",type:"text",value:"Add"===n?j.firstName:m.firstName,onChange:function(e){"Add"===n?C(x(x({},j),{},{firstName:e.target.value})):h(x(x({},m),{},{firstName:e.target.value}))}})]}),(0,l.jsxs)("label",{className:"PopupContact-item",children:[(0,l.jsx)("h3",{children:"Last Name"}),(0,l.jsx)("input",{className:"PopupContact-input",type:"text",value:"Add"===n?j.lastName:m.lastName,onChange:function(e){"Add"===n?C(x(x({},j),{},{lastName:e.target.value})):h(x(x({},m),{},{lastName:e.target.value}))}})]}),(0,l.jsxs)("label",{className:"PopupContact-item",children:[(0,l.jsx)("h3",{children:"Email"}),(0,l.jsx)("input",{className:"PopupContact-input",type:"text",value:"Add"===n?j.email:m.email,onChange:function(e){"Add"===n?C(x(x({},j),{},{email:e.target.value})):h(x(x({},m),{},{email:e.target.value}))}})]}),(0,l.jsxs)("label",{className:"PopupContact-item",children:[(0,l.jsx)("h3",{children:"Phone"}),(0,l.jsx)("input",{className:"PopupContact-input",type:"text",value:"Add"===n?j.phone:m.phone,onChange:function(e){"Add"===n?C(x(x({},j),{},{phone:e.target.value})):h(x(x({},m),{},{phone:e.target.value}))}})]}),(0,l.jsxs)("label",{className:"PopupContact-item",children:[(0,l.jsx)("h3",{children:"Profession"}),(0,l.jsx)("input",{className:"PopupContact-input",type:"text",value:"Add"===n?j.profession:m.profession,onChange:function(e){"Add"===n?C(x(x({},j),{},{profession:e.target.value})):h(x(x({},m),{},{profession:e.target.value}))}})]}),(0,l.jsxs)("div",{className:"PopupContact-btn-group",children:[(0,l.jsx)("button",{className:"PopupContact-btn",type:"button",onClick:function(){(0,d.Cf)(n,s,c,a,m,j,o,C)},children:n}),(0,l.jsx)("button",{className:"PopupContact-btn",type:"button",onClick:function(){o(null)},children:"Cancel"})]})]})})}var C=[{label:"",value:""},{label:"First Name",value:"firstName"},{label:"Last Name",value:"lastName"},{label:"Phone",value:"phone"},{label:"Email",value:"email"},{label:"Profession",value:"profession"}],v={"First Name":"firstName","Last Name":"lastName",Phone:"phone",Email:"email",Profession:"profession"};function b(e){var t=e.setSearchText,n=e.setSelect;return(0,l.jsxs)("div",{className:"search-box",children:[(0,l.jsx)("input",{type:"text",name:"",id:"",placeholder:"Search",onChange:function(e){t(e.target.value)}}),(0,l.jsx)("select",{className:"select",onChange:function(e){n(e.target.value)},children:C.map((function(e){return(0,l.jsx)("option",{className:"selectOption",children:e.label},e.label)}))})]})}function g(e){var t=e.setSelect,n=e.setSearchText,a=e.onPopupContactAdd,s=e.onCheck,c=e.onDeleteChecked,i=e.checkedIdArr,o=e.checkAll,r=e.cardViewState;return(0,l.jsxs)("div",{className:"ListBtnSection",children:[r?(0,l.jsxs)("div",{className:"ListBtnSection-cardView-btn-group",children:[(0,l.jsxs)("label",{className:"checkbox ListBtnSection-checkAll",children:[(0,l.jsx)("input",{name:"checkAll",type:"checkbox",checked:o,onChange:s}),(0,l.jsx)("span",{})]}),(0,l.jsx)("button",{type:"button",className:0!==i.length?"ListBtnSection-delete-checked-button":"ListBtnSection-delete-checked-button-disable",onClick:c,children:"Delete Checked"})]}):(0,l.jsx)("button",{type:"button",className:0!==i.length?"ListBtnSection-delete-checked-button":"ListBtnSection-delete-checked-button-disable",onClick:c,children:"Delete Checked"}),(0,l.jsxs)("div",{className:"ListBtnSection-group",children:[(0,l.jsx)(b,{setSearchText:n,setSelect:t}),(0,l.jsx)("button",{className:"ListBtnSection-add-button",onClick:a,children:"Add"})]})]})}function k(e){var t=e.contact,n=e.button,a=e.contacts,s=e.setContacts,c=e.setInlineContactStatus,o=(0,N.useState)(t),r=(0,i.Z)(o,2),h=r[0],p=r[1],f=(0,N.useState)(t),j=(0,i.Z)(f,2),C=j[0],v=j[1];return(0,l.jsxs)("form",{className:"inlineContact",children:[(0,l.jsx)("input",{className:"InlineContact-item",placeholder:"First Name",type:"text",value:"Add"===n?C.firstName:h.firstName,onChange:function(e){"Add"===n?v(x(x({},C),{},{firstName:e.target.value})):p(x(x({},h),{},{firstName:e.target.value}))}}),(0,l.jsx)("input",{className:"InlineContact-item",placeholder:"Last Name",type:"text",value:"Add"===n?C.lastName:h.lastName,onChange:function(e){"Add"===n?v(x(x({},C),{},{lastName:e.target.value})):p(x(x({},h),{},{lastName:e.target.value}))}}),(0,l.jsx)("input",{className:"InlineContact-item",placeholder:"Email",type:"text",value:"Add"===n?C.email:h.email,onChange:function(e){"Add"===n?v(x(x({},C),{},{email:e.target.value})):p(x(x({},h),{},{email:e.target.value}))}}),(0,l.jsx)("input",{className:"InlineContact-item",placeholder:"Phone",type:"text",value:"Add"===n?C.phone:h.phone,onChange:function(e){"Add"===n?v(x(x({},C),{},{phone:e.target.value})):p(x(x({},h),{},{phone:e.target.value}))}}),(0,l.jsx)("input",{className:"InlineContact-item",placeholder:"Profession",type:"text",value:"Add"===n?C.profession:h.profession,onChange:function(e){"Add"===n?v(x(x({},C),{},{profession:e.target.value})):p(x(x({},h),{},{profession:e.target.value}))}}),(0,l.jsxs)("div",{className:"InlineContact-btn-group",children:[(0,l.jsx)(u.G,{icon:m.LEp,className:"InlineContact-btn",type:"button",onClick:function(){(0,d.Cf)(n,a,s,t,h,C,c,v)}}),(0,l.jsx)(u.G,{icon:m.g82,className:"InlineContact-btn",type:"button",onClick:function(){"Save"===n?c(null):"Add"===n&&(0,d.t5)(v)}})]})]})}var w=n(897),S=n(643);function L(e){var t=e.isLoading,n=e.contacts,u=e.setContacts,m=e.cardViewState,p=e.inlineEditState,f=e.inlineAddState,x=(0,N.useState)(null),C=(0,i.Z)(x,2),b=C[0],L=C[1],I=(0,N.useState)(null),P=(0,i.Z)(I,2),A=P[0],y=P[1],O=(0,N.useState)(!1),E=(0,i.Z)(O,2),Z=E[0],V=E[1],B=(0,N.useState)([]),D=(0,i.Z)(B,2),H=D[0],F=D[1],G=(0,c.Z)(H),T=(0,N.useState)({}),M=(0,i.Z)(T,2),R=M[0],Y=M[1],_=(0,N.useState)(""),K=(0,i.Z)(_,2),q=K[0],z=K[1],J=(0,N.useState)(""),Q=(0,i.Z)(J,2),U=Q[0],W=Q[1],X=function(e,t){var a=e.target.name;"checkAll"===a?e.target.checked?(V(!0),n.filter((function(e){return!G.includes(e.id)})).map((function(e){return G.push(e.id)})),F(G)):(V(!1),F([])):"checkItem"===a&&(e.target.checked?(G.push(t),F(G),G.length===n.length&&V(!0)):(V(!1),F(G.filter((function(e){return e!==t})))))},$=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===H.length){e.next=3;break}return e.next=3,(0,d.Fs)("Do you want to delete these contacts?","Yes, delete these contacts!").then((function(e){e.isConfirmed&&(H.map((function(e){return S.Z.delete("contacts/".concat(e))})),(0,d.GP)("success","Contacts has been deleted!"),u(n.filter((function(e){return!H.includes(e.id)}))),F([]),V(!1))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(e){L((0,l.jsx)(j,{title:"Edit Contact",button:"Save",contact:e,contacts:n,setContacts:u,setPopupContactStatus:L}))},te=function(e){y((0,l.jsx)(k,{title:"Edit Contact",button:"Save",contact:e}))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"ListCaption",children:(0,l.jsx)(o.Z,{title:"Contacts"})}),f&&(0,l.jsx)("div",{className:"InlineAdd",children:(0,l.jsx)(k,{title:"Add Contact",button:"Add",contacts:n,setContacts:u,setInlineContactStatus:y,contact:{firstName:"",lastName:"",phone:"",email:"",profession:""}})}),t?(0,l.jsx)(w.Z,{}):(0,l.jsxs)("div",{className:"List",children:[b||null,(0,l.jsx)("div",{className:"ListBtnSection-container",children:(0,l.jsx)(g,{setSelect:W,setSearchText:z,onPopupContactAdd:function(){L((0,l.jsx)(j,{title:"Add Contact",button:"Add",contacts:n,setContacts:u,setPopupContactStatus:L,contact:{firstName:"",lastName:"",phone:"",email:"",profession:""}}))},onCheck:X,onDeleteChecked:$,checkedIdArr:H,checkAll:Z,cardViewState:m})}),m?null:(0,l.jsx)(r,{onCheck:X,checkAll:Z}),(0,l.jsx)("div",{className:m?"ListItem-cardView":"ListItem-rowView",children:n.map((function(e){if(function(e){if(""!==U){if(e[v[U]].toLowerCase().includes(q))return e}else if(Object.keys(e).some((function(t){return e[t].toLowerCase().includes(q)})))return e}(e))return A&&e.id===R.id?(0,l.jsx)("div",{className:"InlineEditItem",children:(0,l.jsx)(k,{button:"Save",contact:e,contacts:n,setContacts:u,setInlineContactStatus:y})},e.id):(0,l.jsx)(h,{id:e.id,contact:e,contacts:n,setContacts:u,setNewContact:Y,cardViewState:m,inlineEditState:p,checkedIdArr:H,onPopupContactEdit:ee,onInlineContactEdit:te,onCheck:X},e.id)}))})]})]})}}}]);
//# sourceMappingURL=595.a5697853.chunk.js.map